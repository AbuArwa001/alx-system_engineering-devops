#!/bin/bash
# Define the path to the Gunicorn PID file

GUNICORN_PID_FILE="/var/run/gunicorn.pid"

# Check if the Gunicorn PID file exists
if [ -f "$GUNICORN_PID_FILE" ]; then
    # Read the PID of the Gunicorn master process
    MASTER_PID=$(cat "$GUNICORN_PID_FILE")

    # Send the HUP signal to gracefully reload Gunicorn
    echo "Reloading Gunicorn (PID: $MASTER_PID)..."
    kill -HUP "$MASTER_PID"

    echo "Gunicorn has been reloaded gracefully."
else
    echo "Error: Gunicorn PID file does not exist."
fi
